language: node_js
node_js:
- "6.7.0"
sudo: false
cache:
  directories:
  - node_modules
before_install:
- npm install -g yarn@0.18.1
install:
- yarn install --force
after_script:
- codeclimate-test-reporter < reports/coverage/report-lcov/lcov.info
notifications:
  webhooks:
    urls:
    - https://webhooks.gitter.im/e/c8c40bc13ee38867f698
    on_success: change
    on_failure: always
    on_start: never
env: 
  global:
  - secure: sABRdj396yQ+m2iU7bc8CLOHJspRj3l1jeOenQC3GLVyowA6fhhX0dc5Gn7CU67/cbdcgoXNIWDyw7rBmNvnccccrREclv/b1+WpO75g2KuTiOsRt9BL7PR43lt0jg6B2QggKbAU9LFMTXdk1WrObYKapjfP8RUncZzxYqazqTbMELuWalhK9y0Ocnj9EnSyjLad7KdCTDs+CwX6FMCe9jh17CsxLlYwbzMpvzhwIZ5hRQmtEFIWXdLobnWaSMx8EET6cu0hi1cnK2UWMDd6W9eJ4+IrFLUlKHAZiOILzbk8U7T7qlGXayAb27L89sXMhkCNHo85aXrEVU0NVpQOMbPUdPYOTzTAq0oP1peN/KLyI0MPKyzCFpve/m8dt+emMi0hISFIpLH7MVAqq5dvoRVTSnLGhKZS+OMOK1MYLprV38Mo/hhRZobci63jg+NJxeV1J5je7JlVwOT7S9YkU0pQP9WWWbReeYNHZX6Ok48Q0o0eGjm9Aw8jzX7xz1a5EknVpiOAK6VJkjap56f+Q0b+0E87HfZeeF9Yv3wum13GmmJ/pfBFCu7N3D6oKpE+KehxrmHAtIoMGagb1XVSwtVGNoUZ2euaojrpvl0VtR4dzhyWdX9LmbO5uSHOGEsv2IMgQf7gS4Txv5V6Jlza4v9GY+1jHEoWjliK8L8CqPY=
  - secure: I6EZrXFr5DzBefPipS8hlTdP0XAfu6Zy8pxrp+pC1xHYgVV4ssUULekx/8g1Nv4hVBg5ev9ljUIggPqiXqD5m5LWPJWmEO3cdWTghHjoP+QLncnaLAmtuojQXQ9g+2HP7h8bjsXp6dCkkMfpvtssRrYznL8njvJB5SZnqz3UT0x8hNSXyP6VoVpFTHsuULfvrSrme/hgbGxuPdN15FXcWsqCbPwjEM2+qsmn6AqMvMo3oYNIssAAXKlPoEu0+tEj9otJ5u+JNx0SbQzYcJfBM3tQLCO7hY4TaV0fpTkLzr9w3/oixQt6VX24xvovAer56lJH88p9viX3YdwTHuA56nskWuzsUhfb7O4NKKSXo52m+t2UyPH7fLN8QDXA/cOwM6jGmD64uzn6tua97rDNwz98/Gm+wZTt9QBkhKrfe907MuaCq/4LToxFyXVY2ara6YZRFfWbz23P1Tm499Dp3ef/hvVbzCMFCsTKbpYP2eEddo5jxL7nmfnqrN2SwaWXYpxM99yeq2AZH0bM7UakKOxTmB9CW0NakF24Tk0D/FEepz+jEX9gJaSFbiJ6ovwCso6drm0oFKOY4BvkWeGShpq2G4+xXfmpP0B+KGd7OIbYhakMjX2VQTfrLb9HRIl6ZT/J2zE7BKPm/diYy2wR5lixrohm7wqSv1CmHankdA8=
  - MOCK_API_HOST=localhost:3004
addons:
  sauce_connect: true
script:
- yarn start:mock-api &
- yarn start &
- yarn test:e2e
