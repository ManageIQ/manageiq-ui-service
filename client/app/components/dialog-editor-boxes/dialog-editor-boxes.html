<div class='dialog'>
  <div style="background-color: #f1f1f1; padding: 20px;"
       ng-model='dialogEditorBoxes.dialogTabs[dialogEditorBoxes.service.activeTab].dialog_groups'
       ui-sortable='dialogEditorBoxes.sortableOptionsBox'
       ng-repeat='tab in dialogEditorBoxes.dialogTabs'
       ng-show='tab.position == dialogEditorBoxes.service.activeTab'>
    <!-- tab content -->
    <div ng-repeat='box in tab.dialog_groups track by $index'>
      <div class="panel panel-default"
           data-drop='true'
           jqyoui-droppable='{multiple: true, onDrop: "dialogEditorBoxes.droppableOptions"}'
           ng-model='box.dialog_fields'>
        <div class="panel-heading">
          <i class="pficon-edit"
             ng-click='dialogEditorBoxes.editDialogModal(
               dialogEditorBoxes.service.activeTab,
               box.position
             )'></i>
          <strong>{{ box.label }}</strong>
          <button type="button" class="close"
                  ng-click="dialogEditorBoxes.removeBox(box.position)">
            <span aria-hidden="true">
              <i class="fa fa-times"></i>
            </span>
          </button>
        </div>
        <div class="panel-body">
          <div ui-sortable='dialogEditorBoxes.sortableOptionsFields'
               ng-model='box.dialog_fields'>
            <div class="well well-lg nosort"
                 ng-if='box.dialog_fields.length === 0' translate>
              <i class="fa fa-object-group"></i>Drag your components here
            </div>
            <div ng-repeat='field in box.dialog_fields'>
              <form class="form-horizontal">
                <dialog-editor-field box-position="box.position" field-data='field'></dialog-editor-field>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="blank-slate-pf nosort"
         ng-if='tab.dialog_groups.length === 0'
         ng-click='dialogEditorBoxes.addBox()'>
      <div class="blank-slate-pf-icon">
        <i class="fa fa-plus-circle"></i>
      </div>
      <h1 translate>Start with adding a box</h1>
    </div>
    <div class="panel panel-default nosort">
      <a ng-click='dialogEditorBoxes.addBox()' translate>
        <i class="pficon-add-circle-o"></i>&nbsp;Create Box
      </a>
    </div>
  </div>
</div>
